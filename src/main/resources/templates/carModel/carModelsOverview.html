<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link rel="stylesheet" type="text/css" th:href="@{/style.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/navbar.css}">
    <link rel="icon"
          href="https://res.cloudinary.com/digital-interdan-bilabonnement/image/upload/v1578666243/favicon_1_npgufd.ico"
          class="next-head">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <title>Bil håndtering</title>
</head>

<body>

<header th:replace="navbarfragment :: navbar"></header>

<main style="width: 100vw; height: 84vh; overflow: auto;">
    <h1 class="title">Bil oversigt</h1>

    <table class="overview-table">
        <thead>
        <th>Bil Model</th>
        <th>Leasing type priser</th>
        <th>Km. Per Måned Priser</th>
        <th>Ledige biler </th>
        <th>Udlejede biler</th>
        <th>Biler til reperation</th>
        <th>Handlinger</th>
        </thead>
        <tbody>
        <tr th:each="carInfo : ${carInfoList}">
            <td th:text="${carInfo.car_model.car_model_name}"></td>
            <td>
                <table class="table table-dark">
                    <thead>
                    <!-- Lease period plan table headers -->
                    </thead>
                    <tbody>
                    <tr th:each="leasePlan : ${carInfo.car_model_lease_period_plans}">
                        <td th:text="${leasePlan.type}"></td>
                        <td th:text="${leasePlan.price_per_month + ' $/month'}"></td>
                    </tr>
                    </tbody>
                </table>
            </td>
            <td>
                <table class="table table-dark">
                    <thead>
                    <!-- Max km plan table headers -->
                    </thead>
                    <tbody>
                    <tr th:each="carModelMaxKmPlan : ${carInfo.car_model_max_km_plans}">
                        <td th:text="${carModelMaxKmPlan.max_km + ' km'}"></td>
                        <td th:text="${carModelMaxKmPlan.km_price_per_month + ' $/month'}"></td>
                    </tr>
                    </tbody>
                </table>
            </td>

            <td th:text="${carInfo.carsInStock}"></td>
            <td th:text="${carInfo.carsLeasedOut}"></td>
            <td th:text="${carInfo.carsInRepair}"></td>

            <td class="options-td">
                <a class="btn btn-primary" th:href="${'/addCarForm/'+ carInfo.car_model.car_model_id}">Registrer Bil</a>
                <a class="btn btn-secondary" th:href="${'/addCarModelPlansForm/' + carInfo.car_model.car_model_id}">Rediger Priser</a>
                <a class="btn btn-info">Vis registrede biler</a>
            </td>
        </tr>
        </tbody>
    </table>
</main>
<a href="/addCarModelForm">
    <button class="btn-submit">Tilføj ny model</button>
</a>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</body>